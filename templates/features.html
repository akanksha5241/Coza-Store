<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel="icon" type="image/png" href="static\images\icons\favicon.png">
        <title>Features - Coza Store</title>
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <!-- Font Awesome Icons -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="static\css\main.css">
        <script src="static/js/main.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="static/js/animate.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Custom Styles -->
        <style>
        body {
            background: linear-gradient(to right, #e0f7fa, #fffde7);
            font-family: 'Segoe UI', sans-serif;
        }
        h2, h3 {
            color: #ff6f61;
            font-weight: bold;
        }
        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #17a2b8;
        }
        .list-group-item {
            border: none;
            background: transparent;
            font-size: 1.1rem;
        }
        .list-group-item::before {
            content: '✔';
            color: #28a745;
            margin-right: 10px;
        }
        </style>
    </head>
    <body>
        
        <nav id="mainNavbar" class="navbar navbar-expand-lg navbar-light shadow-sm px-4 fixed-top" style="background-color: lightcyan;">
        <a href="#" class="logo">
            <img src="static\images\icons\logo-01.png" alt="IMG-LOGO" style="height: 20px;">
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
            <ul class="navbar-nav gap-3">
                <li class="nav-item">
                    <a class="nav-link" href="/index">Home</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="/shop">Shop</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link active" href="/features">Features</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="/blog">Blog</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="/about">About</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="/contact">Contact</a>
                </li>
            </ul>
        </div>
    </nav>

        <div class="container py-5 text-center">
            <h2 class="mb-3">Our Key Features</h2>
            <p class="lead text-muted">
                Explore what makes
                <strong>Coza Store</strong>
                stand out from the rest.
            </p>
        </div>
        <section class="container mb-5">
            <div class="row text-center">
                <div class="col-md-4 mb-4">
                    <i class="fas fa-shipping-fast feature-icon"></i>
                    <h5>Fast Delivery</h5>
                    <p>Get your orders delivered within 2–3 business days across India.</p>
                </div>
                <div class="col-md-4 mb-4">
                    <i class="fas fa-lock feature-icon"></i>
                    <h5>Secure Checkout</h5>
                    <p>Enjoy safe shopping with encrypted payments and trusted gateways.</p>
                </div>
                <div class="col-md-4 mb-4">
                    <i class="fas fa-redo feature-icon"></i>
                    <h5>Easy Returns</h5>
                    <p>30-day hassle-free returns with pickup support available.</p>
                </div>
            </div>
        </section>
        <section class="container">
            <h3 class="text-center mb-4">Why Choose Us?</h3>
            <ul class="list-group list-group-flush">
                <li class="list-group-item">Latest fashion collections curated weekly</li>
                <li class="list-group-item">Big savings through exclusive member offers</li>
                <li class="list-group-item">Seamless user experience across all devices</li>
                <li class="list-group-item">Live tracking on all active orders</li>
                <li class="list-group-item mb-4">Responsive customer service 7 days a week</li>
            </ul>
        </section>
   
        
        
        
        <footer class="bg-dark text-white pt-5 pb-3">
            <div class="container">
                <div class="row text-start">
                    <div class="col-6 col-md-3 mb-4">
                        <h6 class="fw-bold text-uppercase">Categories</h6>
                        <ul class="list-unstyled">
                            <li>
                                <a href="#" class="text-white-50 text-decoration-none">Women</a>
                            </li>
                            <li>
                                <a href="#" class="text-white-50 text-decoration-none">Men</a>
                            </li>
                            <li>
                                <a href="#" class="text-white-50 text-decoration-none">Shoes</a>
                            </li>
                            <li>
                                <a href="#" class="text-white-50 text-decoration-none">Watches</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-6 col-md-3 mb-4">
                        <h6 class="fw-bold text-uppercase">Help</h6>
                        <ul class="list-unstyled">
                            <li>
                                <a href="#" class="text-white-50 text-decoration-none">
                                    Track
                                    Order
                                </a>
                            </li>
                            <li>
                                <a href="#" class="text-white-50 text-decoration-none">Returns</a>
                            </li>
                            <li>
                                <a href="#" class="text-white-50 text-decoration-none">Shipping</a>
                            </li>
                            <li>
                                <a href="#" class="text-white-50 text-decoration-none">FAQs</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-12 col-md-3 mb-4">
                        <h6 class="fw-bold text-uppercase">Get In Touch</h6>
                        <p class="text-white-50">
                            Any questions? Let us know in store at 8th floor, 379 Hudson St, New York, NY 10018 or call us on (+1) 96 716 6879
                        </p>
                        <div class="d-flex gap-3">
                            <a href="#" class="text-white">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="#" class="text-white">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a href="#" class="text-white">
                                <i class="fab fa-pinterest-p"></i>
                            </a>
                        </div>
                    </div>
                    <div class="col-12 col-md-3 mb-4">
                        <h6 class="fw-bold text-uppercase">Newsletter</h6>
                        <form class="d-flex flex-column gap-2">
                            <input type="email" class="form-control bg-dark text-white border-bottom rounded-0" placeholder="email@example.com">
                            <button type="submit" class="btn btn-primary rounded-pill fw-bold">
                                SUBSCRIBE
                            </button>
                        </form>
                    </div>
                </div>
                <div class="text-center my-3">
                    <img
                        src="static\images\icons\icon-pay-01.png"
                        alt="Payment Methods"
                        class="img-fluid"
                        style="max-width: 250px;"
                    >
                    <img
                        src="static\images\icons\icon-pay-02.png"
                        alt="Payment Methods"
                        class="img-fluid"
                        style="max-width: 250px;"
                    >
                    <img
                        src="static\images\icons\icon-pay-03.png"
                        alt="Payment Methods"
                        class="img-fluid"
                        style="max-width: 250px;"
                    >
                    <img
                        src="static\images\icons\icon-pay-04.png"
                        alt="Payment Methods"
                        class="img-fluid"
                        style="max-width: 250px;"
                    >
                    <img
                        src="static\images\icons\icon-pay-05.png"
                        alt="Payment Methods"
                        class="img-fluid"
                        style="max-width: 250px;"
                    >
                </div>
                <div class="text-center text-white-50 small">
                    Copyright @2025 All rights reserved
                </div>
            </div>
        </footer>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script>
    function updateCartCount() {
        const username = localStorage.getItem('loggedInUser');
        if (!username) return;

        const cartKey = `cart_${username}`;
        const cart = JSON.parse(localStorage.getItem(cartKey)) || [];
        let totalItems = 0;
        cart.forEach(item => {
            totalItems += item.quantity;
        });

        const cartCountElement = document.getElementById('cartCount');
        if (cartCountElement) {
            cartCountElement.textContent = totalItems;
            cartCountElement.style.display = totalItems > 0 ? 'inline-block' : 'none';
        }
    }

    function updateWishlistCount() {
        const username = localStorage.getItem('loggedInUser');
        if (!username) return;

        const wishlistKey = `wishlist_${username}`;
        const wishlist = JSON.parse(localStorage.getItem(wishlistKey)) || [];

        const countSpan = document.getElementById("wishlistCount");
        if (countSpan) countSpan.textContent = wishlist.length;
    }

    document.addEventListener("DOMContentLoaded", function () {
        const username = localStorage.getItem("loggedInUser");

        updateCartCount();
        updateWishlistCount();

        // 1. Quick view modal logic
        document.querySelectorAll('.quick-view-btn').forEach(button => {
            button.addEventListener('click', function () {
                const card = this.closest('.product-card');
                const title = card.dataset.title;
                const price = card.dataset.price;
                const mainImg = card.dataset.mainImg;
                const thumbs = JSON.parse(card.dataset.thumbs);
                const details = JSON.parse(card.dataset.details);

                document.getElementById('modalTitle').textContent = title;
                document.getElementById('modalPrice').textContent = price;
                document.getElementById('modalMainImg').src = mainImg;

                const thumbsContainer = document.getElementById('modalThumbs');
                thumbsContainer.innerHTML = '';
                thumbs.forEach(src => {
                    const img = document.createElement('img');
                    img.src = src;
                    img.className = 'img-thumbnail m-1';
                    img.style.cursor = 'pointer';
                    img.style.width = '60px';
                    img.onclick = () => {
                        document.getElementById('modalMainImg').src = src;
                    };
                    thumbsContainer.appendChild(img);
                });

                const detailsContainer = document.getElementById('modalDetails');
                detailsContainer.innerHTML = '';
                details.forEach(line => {
                    const p = document.createElement('p');
                    p.className = 'mb-1';
                    p.innerHTML = `<strong>${line}</strong>`;
                    detailsContainer.appendChild(p);
                });

                new bootstrap.Modal(document.getElementById('quickViewModal')).show();
            });
        });

        // 2. Add to cart logic
        const addToCartBtn = document.getElementById('modalAddToCart');
        if (addToCartBtn) {
            addToCartBtn.addEventListener('click', function () {
                if (!username) {
                    Swal.fire({
                        icon: 'warning',
                        title: 'Please log in to add items to your cart.',
                        showConfirmButton: false,
                        timer: 2000
                    });
                    return;
                }

                const title = document.getElementById('modalTitle').textContent;
                const price = document.getElementById('modalPrice').textContent;
                const image = document.getElementById('modalMainImg').src;
                const size = document.getElementById('modalSize').value;
                const quantity = parseInt(document.getElementById('modalQty').value);

                if (!size || size === 'Select size') {
                    Swal.fire({
                        icon: 'warning',
                        title: 'Please select a size.',
                        showConfirmButton: false,
                        timer: 2000
                    });
                    return;
                }

                const product = { title, price, image, size, quantity };
                const cartKey = `cart_${username}`;
                let cart = JSON.parse(localStorage.getItem(cartKey)) || [];

                const existing = cart.find(item => item.title === title && item.size === size);
                if (existing) {
                    existing.quantity += quantity;
                } else {
                    cart.push(product);
                }

                localStorage.setItem(cartKey, JSON.stringify(cart));
                Swal.fire({
                    icon: 'success',
                    title: 'Added to cart!',
                    showConfirmButton: false,
                    timer: 1500
                });

                const modal = bootstrap.Modal.getInstance(document.getElementById('quickViewModal'));
                if (modal) modal.hide();

                setTimeout(updateCartCount, 100);
            });
        } else {
            console.error("Button with id 'modalAddToCart' not found in DOM!");
        }

        // 3. Wishlist color update on load
        if (username) {
            const wishlistKey = `wishlist_${username}`;
            const wishlist = JSON.parse(localStorage.getItem(wishlistKey)) || [];

            document.querySelectorAll(".heart-btn").forEach((btn) => {
                const card = btn.closest(".product-card");
                const title = card.dataset.title;

                const exists = wishlist.some(item => item.title === title);
                if (exists) {
                    btn.classList.add("active");
                }

                btn.addEventListener("click", function () {
                    if (!username) {
                        Swal.fire({
                            icon: 'warning',
                            title: 'Please log in to add items to your wishlist.',
                            showConfirmButton: false,
                            timer: 2000
                        });
                        return;
                    }

                    const card = this.closest(".product-card");
                    const title = card.dataset.title;
                    const price = card.dataset.price;
                    const img = card.dataset.mainImg;

                    let wishlist = JSON.parse(localStorage.getItem(wishlistKey)) || [];

                    const exists = wishlist.some(item => item.title === title);
                    if (exists) {
                        Swal.fire({
                            icon: 'info',
                            title: 'Already in wishlist.',
                            showConfirmButton: false,
                            timer: 1500
                        });
                        return;
                    }

                    wishlist.push({ title, price, img });
                    localStorage.setItem(wishlistKey, JSON.stringify(wishlist));
                    this.classList.add("active");

                    Swal.fire({
                        icon: 'success',
                        title: 'Added to wishlist!',
                        showConfirmButton: false,
                        timer: 1500
                    });

                    updateWishlistCount();
                });
            });
        }
    });

    const usernameFromServer = "{{ user }}";
    if (usernameFromServer) {
        localStorage.setItem("loggedInUser", usernameFromServer);
        console.log("User stored in localStorage:", usernameFromServer);
    }
        </script>
    </body>
</html>
